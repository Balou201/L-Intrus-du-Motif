<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Zone Protégée</title>
  <style>
    body {
      background-color: #111;
      color: #0f0;
      font-family: monospace;
      text-align: center;
      padding-top: 100px;
    }
  </style>
  <script>
    (function () {
      // Supprime tout le contenu et tente de fermer la page
      function detruirePage() {
        document.body.innerHTML = "<h1>🔒 Intrusion détectée. Fermeture en cours...</h1>";
        console.clear();
        setTimeout(() => {
          window.open('', '_self');
          window.close(); // Ne fonctionne que si ouvert par script
          window.location.href = "about:blank"; // Redirige si fermeture impossible
        }, 500);
      }

      // Détecte DevTools via délai
      function detectDevTools() {
        const threshold = 160;
        setInterval(() => {
          const start = new Date().getTime();
          debugger;
          const end = new Date().getTime();
          if (end - start > threshold) {
            detruirePage();
            throw new Error("DevTools détecté");
          }
        }, 1000);
      }

      // Blocage clavier + clic droit
      function bloquerInteractions() {
        document.addEventListener('contextmenu', e => e.preventDefault());
        document.addEventListener('keydown', function(e){
          if (
            e.key === "F12" ||
            (e.ctrlKey && e.shiftKey && (e.key === "I" || e.key === "J")) ||
            (e.ctrlKey && e.key === "U")
          ) {
            e.preventDefault();
            detruirePage();
          }
        });
      }

      // Résolution écran changée = suspicion
      function detectResize() {
        const h = window.outerHeight, w = window.outerWidth;
        window.addEventListener('resize', () => {
          if (Math.abs(window.outerHeight - h) > 200 || Math.abs(window.outerWidth - w) > 200) {
            detruirePage();
          }
        });
      }

      // Init
      bloquerInteractions();
      detectDevTools();
      detectResize();
    })();
  </script>
</head>
<body>
  <h1>🛡️ Accès sécurisé</h1>
  <p>Toute tentative de triche est surveillée.</p>
</body>
</html>
